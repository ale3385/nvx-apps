<?xml version="1.0"?>
<model xmlns="http://www.neeveresearch.com/schema/x-asml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" name="bookstore-carts" namespace="com.neeve.bookstore.cart">
    <messages modelFile="com/neeve/bookstore/cart/service/messages/messages.xml"/>
    <state root="Repository" modelFile="com/neeve/bookstore/cart/service/repository/model.xml"/>

    <modules>
        <module class="com.neeve.service.cdc.alert.Module"/>
        <module class="com.neeve.service.cdc.mps.Module"/>
        <module class="com.neeve.service.cdc.main.Module"/>
        <module class="com.neeve.service.db.alert.Module"/>
        <module class="com.neeve.service.db.mps.Module"/>
        <module class="com.neeve.bookstore.cart.db.Module"/>
    </modules>

    <peers>
    </peers>

    <operations>
        <operation name="createCart" type="local" inMessage="CreateCartRequest" outMessage="CreateCartResponse">
            <events>
                <event message="CartCreatedEvent"/>
            </events>
        </operation>

        <operation name="addBook" type="local" inMessage="AddBookRequest" outMessage="AddBookResponse">
            <events>
                <event message="BookAddedToCartEvent"/>
            </events>
        </operation>

        <operation name="removeBook" type="local" inMessage="RemoveBookRequest" outMessage="RemoveBookResponse">
            <events>
                <event message="BookRemovedFromCartEvent"/>
            </events>
        </operation>

        <operation name="doDataMaintenance" type="local" inMessage="DoDataMaintenanceRequest" outMessage="DataMaintenanceDoneEvent">
        </operation>

        <operation name="getCart" type="local" inMessage="GetCartRequest" outMessage="GetCartResponse">
        </operation>
    </operations>
</model>
